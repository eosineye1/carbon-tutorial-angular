{"version":3,"file":"index.spec.js","sourceRoot":"","sources":["index.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import Position, { position } from \"./index\";\n\ndescribe(\"position\", () => {\n\n\tbeforeAll(() => {\n\t\tconst style = document.createElement(\"style\");\n\t\tstyle.innerHTML = `\n\t\t\t* {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\n\t\t\t.reference {\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 100px;\n\t\t\t\tborder: 1px solid blue;\n\t\t\t}\n\n\t\t\t.target {\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 50px;\n\t\t\t\tborder: 1px solid gray;\n\t\t\t\tposition: absolute;\n\t\t\t}\n\t\t`;\n\t\tdocument.head.appendChild(style);\n\t});\n\n\tlet container: Element;\n\tlet target: Element;\n\tlet reference: Element;\n\n\tbeforeEach(() => {\n\t\tcontainer = document.createElement(\"div\");\n\t\treference = document.createElement(\"div\");\n\t\treference.textContent = \"reference element\";\n\t\treference.classList.add(\"reference\");\n\t\ttarget = document.createElement(\"div\");\n\t\ttarget.textContent = \"target element\";\n\t\ttarget.classList.add(\"target\");\n\t\tcontainer.appendChild(reference);\n\t\tcontainer.appendChild(target);\n\t\tdocument.body.appendChild(container);\n\t});\n\n\tafterEach(() => {\n\t\tdocument.body.removeChild(container);\n\t});\n\n\tit(\"should provide an instance of Position\", () => {\n\t\texpect(position instanceof Position).toBe(true);\n\t});\n\n\t// a bit of meta testing here\n\tit(\"should have an environment\", () => {\n\t\texpect(target).toBeDefined();\n\t\texpect(reference).toBeDefined();\n\t\texpect(target.classList).toContain(\"target\");\n\t\texpect(reference.classList).toContain(\"reference\");\n\t});\n\n\tit(\"should position an element to the bottom\", () => {\n\t\tconst pos = position.findPosition(reference, target, \"bottom\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(reference.getBoundingClientRect().bottom).toEqual(target.getBoundingClientRect().top);\n\t});\n\n\tit(\"should position an element to the left\", () => {\n\t\tconst pos = position.findPosition(reference, target, \"left\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(reference.getBoundingClientRect().left).toEqual(target.getBoundingClientRect().right);\n\t});\n\n\tit(\"should position an element to the right\", () => {\n\t\tconst pos = position.findPosition(reference, target, \"right\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(reference.getBoundingClientRect().right).toEqual(target.getBoundingClientRect().left);\n\t});\n\n\tit(\"should position an element to the top\", () => {\n\t\tconst pos = position.findPosition(reference, target, \"top\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(reference.getBoundingClientRect().top).toEqual(target.getBoundingClientRect().bottom);\n\t});\n\n\tit(\"should add a custom placement\", () => {\n\t\tconst instance = new Position({\n\t\t\t\"custom\": (referenceOffset, target, referenceRect) => ({\n\t\t\t\ttop: 42,\n\t\t\t\tleft: 42\n\t\t\t})\n\t\t});\n\n\t\tconst pos = instance.findPosition(reference, target, \"custom\");\n\n\t\texpect(pos).toEqual({top: 42, left: 42});\n\t});\n\n\tit(\"should position an element to the top of a given point\", () => {\n\t\tconst pos = position.findPositionAt({top: 100, left: 100}, target, \"top\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(target.getBoundingClientRect().bottom).toEqual(100);\n\t});\n\n\tit(\"should position an element to the left of a given point\", () => {\n\t\tconst pos = position.findPositionAt({ top: 100, left: 100 }, target, \"left\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(target.getBoundingClientRect().right).toEqual(100);\n\t});\n\n\tit(\"should position an element to the right of a given point\", () => {\n\t\tconst pos = position.findPositionAt({ top: 100, left: 100 }, target, \"right\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(target.getBoundingClientRect().left).toEqual(100);\n\t});\n\n\tit(\"should position an element to the bottom of a given point\", () => {\n\t\tconst pos = position.findPositionAt({ top: 100, left: 100 }, target, \"bottom\");\n\n\t\tposition.setElement(target, pos);\n\t\texpect(target.getBoundingClientRect().top).toEqual(100);\n\t});\n});\n"]}